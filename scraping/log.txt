
> scraping@1.0.0 dev
> ts-node-dev --respawn ./src/index.ts

[INFO] 20:48:50 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.1, typescript ver. 5.1.3)
Starting program...
Getting search...
starting api service [get], path:  categories
starting api service [request], path:  categories , method:  GET
body stringified:  undefined
get search response:  [
  { category: 'Smartphones', subCategory: 'iPhone' },
  { category: 'Smartphones', subCategory: 'Samsung Galaxy' },
  { category: 'Smartphones', subCategory: 'Xiaomi' },
  { category: 'Smartphones', subCategory: 'Google Pixel' },
  { category: 'Laptops', subCategory: 'MacBook' },
  { category: 'Laptops', subCategory: 'Dell XPS' },
  { category: 'Laptops', subCategory: 'HP Spectre' },
  { category: 'Laptops', subCategory: 'Lenovo ThinkPad' },
  { category: 'Tablets', subCategory: 'iPad' },
  { category: 'Tablets', subCategory: 'Samsung Galaxy Tab' },
  { category: 'Tablets', subCategory: 'Microsoft Surface' },
  { category: 'Câmeras', subCategory: 'Canon EOS' },
  { category: 'Câmeras', subCategory: 'Nikon D' },
  { category: 'Câmeras', subCategory: 'Sony Alpha' },
  { category: 'TVs', subCategory: 'Samsung QLED' },
  { category: 'TVs', subCategory: 'LG OLED' },
  { category: 'TVs', subCategory: 'Sony Bravia' },
  { category: 'Fones de ouvido', subCategory: 'Apple AirPods' },
  { category: 'Fones de ouvido', subCategory: 'Sony WH-1000XM' },
  { category: 'Fones de ouvido', subCategory: 'Bose QuietComfort' },
  { category: 'Roupas', subCategory: 'vestidos' },
  { category: 'Roupas', subCategory: 'camisetas' },
  { category: 'Roupas', subCategory: 'calças' },
  { category: 'Roupas', subCategory: 'casacos' },
  { category: 'Calçados', subCategory: 'tênis' },
  { category: 'Calçados', subCategory: 'sapatos sociais' },
  { category: 'Calçados', subCategory: 'sandálias' },
  { category: 'Calçados', subCategory: 'botas' },
  { category: 'Acessórios', subCategory: 'bolsas' },
  { category: 'Acessórios', subCategory: 'carteiras' },
  { category: 'Acessórios', subCategory: 'óculos de sol' },
  { category: 'Acessórios', subCategory: 'relógios' },
  { category: 'Joias', subCategory: 'anéis' },
  { category: 'Joias', subCategory: 'colares' },
  { category: 'Joias', subCategory: 'brincos' },
  { category: 'Joias', subCategory: 'pulseiras' },
  { category: 'Cuidados pessoais', subCategory: 'produtos para pele' },
  { category: 'Cuidados pessoais', subCategory: 'cabelo' },
  { category: 'Cuidados pessoais', subCategory: 'unhas' },
  { category: 'Maquiagem', subCategory: 'base' },
  { category: 'Maquiagem', subCategory: 'batom' },
  { category: 'Maquiagem', subCategory: 'sombras' },
  { category: 'Maquiagem', subCategory: 'máscara de cílios' },
  {
    category: 'Perfumes e fragrâncias',
    subCategory: 'perfumes femininos'
  },
  {
    category: 'Perfumes e fragrâncias',
    subCategory: 'perfumes masculinos'
  },
  { category: 'Perfumes e fragrâncias', subCategory: 'colônias' },
  {
    category: 'Vitaminas e suplementos',
    subCategory: 'multivitamínicos'
  },
  { category: 'Vitaminas e suplementos', subCategory: 'proteínas' },
  { category: 'Vitaminas e suplementos', subCategory: 'ômega-3' },
  { category: 'Móveis', subCategory: 'sofás' },
  { category: 'Móveis', subCategory: 'mesas de jantar' },
  { category: 'Móveis', subCategory: 'camas' },
  { category: 'Móveis', subCategory: 'armários' },
  { category: 'Eletrodomésticos', subCategory: 'geladeiras' },
  { category: 'Eletrodomésticos', subCategory: 'fogões' },
  {
    category: 'Eletrodomésticos',
    subCategory: 'máquinas de lavar roupa'
  },
  { category: 'Utensílios de cozinha', subCategory: 'panelas' },
  { category: 'Utensílios de cozinha', subCategory: 'facas' },
  {
    category: 'Utensílios de cozinha',
    subCategory: 'liquidificadores'
  },
  { category: 'Utensílios de cozinha', subCategory: 'cafeteiras' },
  { category: 'Decoração', subCategory: 'almofadas' },
  { category: 'Decoração', subCategory: 'quadros' },
  { category: 'Decoração', subCategory: 'vasos' },
  { category: 'Decoração', subCategory: 'cortinas' },
  { category: 'Equipamentos de academia', subCategory: 'esteiras' },
  {
    category: 'Equipamentos de academia',
    subCategory: 'bicicletas ergométricas'
  },
  { category: 'Equipamentos de academia', subCategory: 'halteres' },
  {
    category: 'Equipamentos de academia',
    subCategory: 'bolas de exercício'
  }
]
Starting scraping...
starting search for:  { category: 'Smartphones', subCategory: 'iPhone' }
starting search for:  { category: 'Smartphones', subCategory: 'iPhone' }
starting search for:  { category: 'Smartphones', subCategory: 'Samsung Galaxy' }
starting search for:  { category: 'Smartphones', subCategory: 'Xiaomi' }
Finished scraping Amazon.
Founded products:  []
Posting products...
starting api service [request], path:  products , method:  POST
body stringified:  {"data":[]}
starting get product details, product:  {
  name: 'Apple iPhone 11 (64 GB) Preto',
  price: 2929,
  coverImageSrc: 'https://m.media-amazon.com/images/I/71iO2R+CLjL._AC_UL400_.jpg',
  link: 'https://www.amazon.com.br/sspa/click?ie=UTF8&spc=MTozMTExNjAzMTU4MjQ1MTgwOjE2ODg5NDY1MzI6c3BfYXRmOjIwMDAyNzAzODAyMTI5ODo6MDo6&url=%2FApple-MHDA3BR-A-iPhone-11-64-GB%2Fdp%2FB08M3KL2JK%2Fref%3Dsr_1_1_sspa%3Fkeywords%3DiPhone%26qid%3D1688946532%26sr%3D8-1-spons%26ufe%3Dapp_do%253Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1',
  origin: 'amazon',
  paymentDetails: 'até 10x de R$ 308,37 sem juros',
  reviews: { rating: 4.8, evaluations: 14601 },
  percentOff: 5,
  category: { category: 'Smartphones', subCategory: 'iPhone' }
}
product: [object Object]
starting get product details, product:  {
  name: 'Apple iPhone SE (3ª geração) 64 GB - Estelar',
  price: 3569,
  coverImageSrc: 'https://m.media-amazon.com/images/I/412hp1ViHpL._AC_UL400_.jpg',
  link: 'https://www.amazon.com.br/sspa/click?ie=UTF8&spc=MTozMTExNjAzMTU4MjQ1MTgwOjE2ODg5NDY1MzI6c3BfYXRmOjIwMDA1MTQ1MjEzNzg5ODo6MDo6&url=%2FApple-iPhone-SE-3%25C2%25AA-gera%25C3%25A7%25C3%25A3o%2Fdp%2FB09V4D3N9G%2Fref%3Dsr_1_2_sspa%3Fkeywords%3DiPhone%26qid%3D1688946532%26sr%3D8-2-spons%26ufe%3Dapp_do%253Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1',
  origin: 'amazon',
  paymentDetails: 'até 10x de R$ 356,90 sem juros',
  reviews: { rating: 4.8, evaluations: 711 },
  percentOff: 6,
  category: { category: 'Smartphones', subCategory: 'iPhone' }
}
product: [object Object]
starting get product details, product:  {
  name: 'Apple iPhone 14 (256 GB) – Estelar',
  price: 6554.44,
  coverImageSrc: 'https://m.media-amazon.com/images/I/618Bb+QzCmL._AC_UL400_.jpg',
  link: 'https://www.amazon.com.br/sspa/click?ie=UTF8&spc=MTozMTExNjAzMTU4MjQ1MTgwOjE2ODg5NDY1MzI6c3BfYXRmOjIwMDEyNzM3OTE0NzM5ODo6MDo6&url=%2FApple-iPhone-14-256-GB%2Fdp%2FB0BDJJ7VGQ%2Fref%3Dsr_1_3_sspa%3Fkeywords%3DiPhone%26qid%3D1688946532%26sr%3D8-3-spons%26ufe%3Dapp_do%253Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1',
  origin: 'amazon',
  paymentDetails: 'até 10x de R$ 655,48 sem juros',
  reviews: { rating: 4.8, evaluations: 1069 },
  percentOff: 24,
  category: { category: 'Smartphones', subCategory: 'iPhone' }
}
product: [object Object]
starting get product details, product:  {
  name: 'Apple iPhone 13 mini (512 GB) - Azul',
  price: 6999,
  coverImageSrc: 'https://m.media-amazon.com/images/I/61H1d-81qZL._AC_UL400_.jpg',
  link: 'https://www.amazon.com.br/sspa/click?ie=UTF8&spc=MTozMTExNjAzMTU4MjQ1MTgwOjE2ODg5NDY1MzI6c3BfYXRmOjIwMDA2NzA2Mzc4Nzg5ODo6MDo6&url=%2FApple-iPhone-13-mini-512-GB%2Fdp%2FB09L1P9DCH%2Fref%3Dsr_1_4_sspa%3Fkeywords%3DiPhone%26qid%3D1688946532%26sr%3D8-4-spons%26ufe%3Dapp_do%253Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1',
  origin: 'amazon',
  paymentDetails: 'até 10x de R$ 699,90 sem juros',
  reviews: { rating: 4.9, evaluations: 1328 },
  percentOff: null,
  category: { category: 'Smartphones', subCategory: 'iPhone' }
}
product: [object Object]
starting get product details, product:  {
  name: 'Apple iPhone 13 (128 GB) - Meia-noite',
  price: 4411.16,
  coverImageSrc: 'https://m.media-amazon.com/images/I/41rfDU6FGqL._AC_UL400_.jpg',
  link: 'https://www.amazon.com.br/Apple-iPhone-13-128-GB-Meia-noite/dp/B09T55NFSR/ref=sr_1_5?keywords=iPhone&qid=1688946532&sr=8-5&ufe=app_do%3Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147',
  origin: 'amazon',
  paymentDetails: 'até 10x de R$ 464,36 sem juros',
  reviews: { rating: 4.9, evaluations: 11593 },
  percentOff: 42,
  category: { category: 'Smartphones', subCategory: 'iPhone' }
}
product: [object Object]
starting get product details, product:  {
  name: 'Apple iPhone 11 (128 GB) Branco',
  price: 3324.05,
  coverImageSrc: 'https://m.media-amazon.com/images/I/71kZfQA-Y7L._AC_UL400_.jpg',
  link: 'https://www.amazon.com.br/iPhone-Branco-com-Tela-C%C3%83%C2%A2mera/dp/B08NXK32ZX/ref=sr_1_6?keywords=iPhone&qid=1688946532&sr=8-6&ufe=app_do%3Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147',
  origin: 'amazon',
  paymentDetails: 'até 10x de R$ 349,90 sem juros',
  reviews: { rating: 4.8, evaluations: 14601 },
  percentOff: 40,
  category: { category: 'Smartphones', subCategory: 'iPhone' }
}
product: [object Object]
starting get product details, product:  {
  name: 'Apple iPhone 14 (128 GB) – azul',
  price: 5224.05,
  coverImageSrc: 'https://m.media-amazon.com/images/I/61bK6PMOC3L._AC_UL400_.jpg',
  link: 'https://www.amazon.com.br/Apple-iPhone-14-128-GB/dp/B0BDHF3S9T/ref=sr_1_7?keywords=iPhone&qid=1688946532&sr=8-7&ufe=app_do%3Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147',
  origin: 'amazon',
  paymentDetails: 'até 10x de R$ 549,90 sem juros',
  reviews: { rating: 4.8, evaluations: 1069 },
  percentOff: 31,
  category: { category: 'Smartphones', subCategory: 'iPhone' }
}
product: [object Object]
starting get product details, product:  {
  name: 'Apple iPhone 12 (64 GB) - Preto',
  price: 3799.05,
  coverImageSrc: 'https://m.media-amazon.com/images/I/41kBmL3zaZL._AC_UL400_.jpg',
  link: 'https://www.amazon.com.br/Apple-iPhone-12-64-GB-Preto/dp/B09BG1CZ68/ref=sr_1_8?keywords=iPhone&qid=1688946532&sr=8-8&ufe=app_do%3Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147',
  origin: 'amazon',
  paymentDetails: 'até 10x de R$ 399,90 sem juros',
  reviews: { rating: 4.8, evaluations: 4858 },
  percentOff: 37,
  category: { category: 'Smartphones', subCategory: 'iPhone' }
}
product: [object Object]
starting get product details, product:  {
  name: 'Apple iPhone 13 mini (128 GB) - Meia-noite',
  price: 4799,
  coverImageSrc: 'https://m.media-amazon.com/images/I/7133375KHJL._AC_UL400_.jpg',
  link: 'https://www.amazon.com.br/Apple-iPhone-mini-128-GB-Meia-noite/dp/B09L1N6BGC/ref=sr_1_9?keywords=iPhone&qid=1688946532&sr=8-9&ufe=app_do%3Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147',
  origin: 'amazon',
  paymentDetails: 'até 10x de R$ 479,90 sem juros',
  reviews: { rating: 4.9, evaluations: 1328 },
  percentOff: 27,
  category: { category: 'Smartphones', subCategory: 'iPhone' }
}
